=== ./eyelash_corne.conf ===
#
# Copyright (c) 2024 The ZMK Contributors
# SPDX-License-Identifier: MIT
#
# go to sleep after one hour (1*60*60*1000ms)

CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=3600000

CONFIG_ZMK_SLEEP=y





CONFIG_WS2812_STRIP=y
CONFIG_ZMK_RGB_UNDERGLOW=y
CONFIG_ZMK_RGB_UNDERGLOW_ON_START=y

CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=y
CONFIG_ZMK_RGB_UNDERGLOW_HUE_START=160
CONFIG_ZMK_RGB_UNDERGLOW_EFF_START=3

# Uncomment the following line to enable NKRO
CONFIG_ZMK_HID_REPORT_TYPE_NKRO=y

# Some operating systems have problems with full support for consumer keycodes.
# Uncomment the following line if keycodes labeled "consumer" like C_AC_SEARCH don't work
#CONFIG_ZMK_HID_CONSUMER_REPORT_USAGES_BASIC=y

#EC11 enable
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# Mouse enable
CONFIG_ZMK_POINTING=y

CONFIG_ZMK_BACKLIGHT=y
CONFIG_ZMK_BACKLIGHT_BRT_START=100
CONFIG_ZMK_POINTING_SMOOTH_SCROLLING=y
# Uncomment the following line to increase the keyboard's wireless range
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=8
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=8
=== ./eyelash_corne.json ===
{
  "id": "eyelash_corne",
  "name": "Eyelash Corne",
  "layouts": {
    "default_layout": {
      "name": "default_layout",
      "layout": [
        { "row": 0, "col":  0, "x":     0, "y": 0.37 },
        { "row": 0, "col":  1, "x":     1, "y": 0.37 },
        { "row": 0, "col":  2, "x":     2, "y": 0.12 },
        { "row": 0, "col":  3, "x":     3, "y":    0 },
        { "row": 0, "col":  4, "x":     4, "y": 0.12 },
        { "row": 0, "col":  5, "x":     5, "y": 0.24 },
        { "row": 0, "col":  9, "x":  9.25, "y": 0.24, "label":    "5-way up" },
        { "row": 0, "col": 11, "x":  11.5, "y": 0.24 },
        { "row": 0, "col": 12, "x":  12.5, "y": 0.12 },
        { "row": 0, "col": 13, "x":  13.5, "y":    0 },
        { "row": 0, "col": 14, "x":  14.5, "y": 0.12 },
        { "row": 0, "col": 15, "x":  15.5, "y": 0.37 },
        { "row": 0, "col": 16, "x":  16.5, "y": 0.37 },

        { "row": 1, "col":  0, "x":     0, "y": 1.37 },
        { "row": 1, "col":  1, "x":     1, "y": 1.37 },
        { "row": 1, "col":  2, "x":     2, "y": 1.12 },
        { "row": 1, "col":  3, "x":     3, "y":    1 },
        { "row": 1, "col":  4, "x":     4, "y": 1.12 },
        { "row": 1, "col":  5, "x":     5, "y": 1.24 },
        { "row": 1, "col":  8, "x":  8.25, "y": 1.24, "label":  "5-way left" },
        { "row": 1, "col":  9, "x":  9.25, "y": 1.24, "label": "5-way press" },
        { "row": 1, "col": 10, "x": 10.25, "y": 1.24, "label": "5-way right" },
        { "row": 1, "col": 11, "x":  11.5, "y": 1.24 },
        { "row": 1, "col": 12, "x":  12.5, "y": 1.12 },
        { "row": 1, "col": 13, "x":  13.5, "y":    1 },
        { "row": 1, "col": 14, "x":  14.5, "y": 1.12 },
        { "row": 1, "col": 15, "x":  15.5, "y": 1.37 },
        { "row": 1, "col": 16, "x":  16.5, "y": 1.37 },

        { "row": 2, "col":  0, "x":     0, "y": 2.37 },
        { "row": 2, "col":  1, "x":     1, "y": 2.37 },
        { "row": 2, "col":  2, "x":     2, "y": 2.12 },
        { "row": 2, "col":  3, "x":     3, "y":    2 },
        { "row": 2, "col":  4, "x":     4, "y": 2.12 },
        { "row": 2, "col":  5, "x":     5, "y": 2.24 },
        { "row": 2, "col":  6, "x":  6.25, "y": 2.24, "label":        "4\n2" },
        { "row": 2, "col":  9, "x":  9.25, "y": 2.24, "label":  "5-way down" },
        { "row": 2, "col": 11, "x":  11.5, "y": 2.24 },
        { "row": 2, "col": 12, "x":  12.5, "y": 2.12 },
        { "row": 2, "col": 13, "x":  13.5, "y":    2 },
        { "row": 2, "col": 14, "x":  14.5, "y": 2.12 },
        { "row": 2, "col": 15, "x":  15.5, "y": 2.37 },
        { "row": 2, "col": 16, "x":  16.5, "y": 2.37 },

        { "row": 3, "col":  3, "x":   3.5, "y": 3.12 },
        { "row": 3, "col":  4, "x":   4.5, "y": 3.12,                         "r":  12, "rx":  4.5, "ry": 4.12 },
        { "row": 3, "col":  5, "x":   5.5, "y": 3.12,                         "r":  24, "rx": 5.15, "ry": 4.33 },
        { "row": 3, "col": 11, "x":    11, "y": 3.12,                         "r": -24, "rx": 12.3, "ry": 4.33 },
        { "row": 3, "col": 12, "x":    12, "y": 3.12,                         "r": -12, "rx":   13, "ry": 4.12 },
        { "row": 3, "col": 13, "x":    13, "y": 3.12 }
      ]
    }
  },
  "sensors": [
    {
      "ref": "left_encoder",
      "name": "encoder_left",
      "identifier": "encoder_left",
      "compatible": "alps,ec11",
      "label": "LEFT_ENCODER",
      "enabled": true
    }
  ]
}
=== ./west.yml ===
manifest:
  remotes:
    - name: zmkfirmware
      url-base: https://github.com/zmkfirmware
      # Additional modules containing boards/shields/custom code can be listed here as well.
      # See:
      # - https://zmk.dev/docs/features/modules
      # - https://docs.zephyrproject.org/3.5.0/develop/west/manifest.html#projects
  projects:
    - name: eyelash_corne
      url: https://github.com/a741725193/zmk-new_corne
      revision: main
    - name: zmk
      remote: zmkfirmware
      revision: main
      import: app/west.yml
  self:
    path: config
=== ./eyelash_corne.keymap ===
#define ZMK_POINTING_DEFAULT_MOVE_VAL 1200  // 600
#define ZMK_POINTING_DEFAULT_SCRL_VAL 25    // 10

#include <dt-bindings/zmk/bt.h>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/outputs.h>
#include <dt-bindings/zmk/pointing.h>
#include <dt-bindings/zmk/rgb.h>
#include <zephyr/dt-bindings/input/input-event-codes.h>

#include <behaviors.dtsi>
#include <input/processors.dtsi>

&mmv_input_listener { input-processors = <&zip_xy_scaler 2 1>; };

&msc_input_listener { input-processors = <&zip_scroll_scaler 2 1>; };

&msc {
  acceleration-exponent = <1>;         // 0
  time-to-max-speed-ms = <100>;  // 300
  delay-ms = <0>;                      // 0
};

&mmv {
  time-to-max-speed-ms = <500>;
  acceleration-exponent = <1>;
  trigger-period-ms = <16>;
};

/ {
  behaviors {
    td0:
      td0 {
        compatible = "zmk,behavior-tap-dance";
        display-name = "Shift/Caps Lock Tap Dance";
        #binding-cells = <0>;
        bindings = <&kp LEFT_SHIFT>, <&kp CAPS>;
      };
  };

rgb_encoder:
  rgb_encoder {
    compatible = "zmk,behavior-sensor-rotate";
    #sensor-binding-cells = <0>;
    bindings = <&rgb_ug RGB_BRI>, <&rgb_ug RGB_BRD>;
  };

scroll_encoder:
  scroll_encoder {
    compatible = "zmk,behavior-sensor-rotate";
    #sensor-binding-cells = <0>;
    bindings = <&msc SCRL_DOWN>, <&msc SCRL_UP>;

    tap-ms = <300>;
  };

  keymap {
    compatible = "zmk,keymap";

    default_layer {
      display-name = "QWERTY";
      bindings =
          <
            &kp TAB    &kp Q  &kp W  &kp E     &kp R  &kp T                                    &mmv MOVE_UP                &kp Y        &kp U  &kp I      &kp O    &kp P     &kp BSPC
            &td0       &kp A  &kp S  &kp D     &kp F  &kp G                     &mmv MOVE_LEFT &mkp LCLK  &mmv MOVE_RIGHT  &kp H        &kp J  &kp K      &kp L    &kp SEMI  &kp SQT
            &kp LCTRL  &kp Z  &kp X  &kp C     &kp V  &kp B        &kp C_PLAY_PAUSE            &mmv MOVE_DOWN              &kp N        &kp M  &kp COMMA  &kp DOT  &kp FSLH  &kp ESC
                              &kp LGUI  &mo 1  &lt 3 SPACE                                                                 &lt 3 ENTER  &mo 2  &kp RALT
          >;

      sensor-bindings = <&inc_dec_kp C_VOLUME_UP C_VOLUME_DOWN>;
    };

    lower_layer {
      display-name = "NUMBER";
      bindings = 
        <
          &trans  &kp N1           &kp N2          &kp N3        &kp N4        &kp N5                                         &mmv MOVE_UP                     &kp N6           &kp N7           &kp N8           &kp N9           &kp N0    &kp BSPC
          &trans  &bt BT_CLR_ALL   &bt BT_SEL 0    &bt BT_SEL 1  &bt BT_SEL 2  &bt BT_SEL 3                   &mmv MOVE_LEFT  &mkp LCLK       &mmv MOVE_RIGHT  &kp LEFT         &kp DOWN         &kp UP           &kp RIGHT        &kp HOME  &kp PG_UP
          &trans  &rgb_ug RGB_OFF  &rgb_ug RGB_ON  &trans        &trans        &rgb_ug RGB_EFF  &kp C_MUTE                    &mmv MOVE_DOWN                   &rgb_ug RGB_EFR  &rgb_ug RGB_SPI  &rgb_ug RGB_BRI  &rgb_ug RGB_BRD  &kp END   &kp PG_DN
                                                   &trans        &trans        &trans                                                                          &kp INS          &kp DEL          &trans
        >;

      sensor-bindings = <&scroll_encoder>;
    };

    raise_layer {
      display-name = "SYMBOL";
      bindings =
        <
          &trans  &kp EXCL      &kp AT        &kp HASH   &kp DLLR   &kp PRCNT                            &mmv MOVE_UP                     &kp CARET  &kp AMPS   &kp ASTRK  &kp LPAR  &kp RPAR  &kp BSPC
          &trans  &bt BT_CLR    &mkp LCLK     &mkp MCLK  &mkp RCLK  &mkp MB4             &mmv MOVE_LEFT  &mkp LCLK       &mmv MOVE_RIGHT  &kp MINUS  &kp EQUAL  &kp LBKT   &kp RBKT  &kp BSLH  &kp GRAVE
          &trans  &out OUT_USB  &out OUT_BLE  &none      &none      &mkp MB5   &trans                    &mmv MOVE_DOWN                   &kp UNDER  &kp PLUS   &kp LBRC   &kp RBRC  &kp PIPE  &kp TILDE
                                              &trans     &trans     &kp SPACE                                                             &kp RET    &trans     &trans
        >;

      sensor-bindings = <&scroll_encoder>;
    };

    layer_3 {
      display-name = "Fn";
      bindings =
        <
          &studio_unlock  &kp F1      &kp F2     &kp F3       &kp F4     &kp F5                                  &mmv MOVE_UP                     &kp F6       &kp F7     &kp F8       &kp F9      &kp F10          &kp F11
          &trans          &trans      &mkp LCLK  &mkp MCLK    &mkp RCLK  &mkp MB4                &mmv MOVE_LEFT  &mkp LCLK       &mmv MOVE_RIGHT  &bootloader  &mkp LCLK  &mkp MCLK    &mkp RCLK   &kp PRINTSCREEN  &kp F12
          &trans          &sys_reset  &trans     &bootloader  &trans     &mkp MB5  &kp C_MUTE                    &mmv MOVE_DOWN                   &trans       &trans     &bootloader  &sys_reset  &kp SCROLLLOCK   &kp PAUSE_BREAK
                                                 &trans       &trans     &trans                                                                   &trans       &trans     &trans
        >;

      sensor-bindings = <&scroll_encoder>;
    };
  };
};
=== ./output.txt ===
